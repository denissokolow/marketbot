Корень проекта
bot.js — главный файл; запускает бота, подключает БД, регистрирует все команды и главное меню.

db.js — подключение к базе данных Postgres.

ozon.js — работа с Ozon API; получение и форматирование отчётов.

utils.js — вспомогательные функции, например, получение вчерашней даты.

menu/menu.js
Содержит функцию getMainMenu для генерации клавиатуры (меню бота).

Меню импортируется один раз и используется во всех командах.

commands/
В этой папке лежат отдельные файлы для каждой команды Telegram-бота:

report_today.js — команда “Прислать статус сейчас” (отчёт за сегодня).

report_yesterday.js — команда “Прислать за вчера”.

subscribe.js — команда “Подписаться на рассылку”.

unsubscribe.js — команда “Отписаться от рассылки”.

register.js — регистрация пользователя и обработка ввода названия магазина.

Итог:

bot.js — запуск и сборка бота

db.js — база

ozon.js — получение отчётов

menu/menu.js — клавиатура

commands/ — обработчики команд пользователя

Главная идея: легко добавлять новые кнопки/функции через отдельные файлы в commands/.
Если нужен шаблон для новой функции — спрашивай!








Спросить ChatGPT
